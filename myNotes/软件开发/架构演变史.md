####**1. 单应用架构**
所有程序软件在一个服务器上。

####**2. 应用服务器和数据库服务器分离**
web服务器和数据库服务器拆分开，提高单机负载和系统容灾能力。

####**3. 应用服务器集群**
单台应用服务器无法满足访问量，增加应用服务器，将应用服务器集群化，不过会遇到负载均衡和session共享问题，此时可以引入Nginx和Apache等软负载或者F5硬负载。session共享问题可以使用Tomcat的session共享解决。

####**4. 增加数据库服务器**
数据库压力变大，如果单纯增加数据库服务器会遇到数据一致性问题。一般考虑将数据库读写分离。主从数据库同步可以使用MySQL自带的master-slave方式实现。应用中数据源选择使用第三方中间件：mycat。

####**5. 引入搜索引擎**
数据库对模糊查询等效率低，此时可以引入搜索引擎，带来问题：维护索引的构建、数据库与搜索引擎数据的同步。

####**6. 引入缓存机制**
访问量进一步增加，出现多用户访问同一内容，对于热点数据引入缓存技术：redis，memcache等。其他场景中，如我们对用户的某些 IP 的访问频率做限制， 那这个放内存中就又不合适，放数据库又太麻烦了，那这个时候可以使用 Nosql 的方式比如 mongDB 来代替传统的关系型数据库。

####**7. 数据库水平/垂直拆分**
访问量进一步增加，数据库遇到瓶颈，此时对数据库进行垂直拆分和水平拆分。
垂直拆分:把数据库中不同业务数据拆分到不同的数据库。
水平拆分:把同一个表中的数据拆分到两个甚至更多的数据库中，水平拆分的原因是某些业务数据量已经达到了单个数据库的瓶颈，这时可以采取将表拆分到多个数据库中。

####**8. 应用拆分**
访问量进一步增加，应用服务器压力变大，工程规模越来越大。此时可以将应用按照不同模块拆分成多个子系统，将公共模块抽象出来。另外，引入RPC技术用于子系统之间远程通讯，如：dubbo，webservice，http，RMI等。此时的系统规模十分庞大，日志分散于很多设备上，不利于查看问题，可以引入日志管理系统，如：ELK。如果再遇到比如某时间点活动访问量骤增，大于某个子系统的处理能力，可以引进消息队列，比如：RabbitMQ、RocketMQ、ActiveMQ、Kafka等。


*[注1]：此架构演变主要以电商平台架构演变为模型。*  
*[注2]：ELK是Elasticsearch、Logstash和Kibana这三款开源框架首字母的缩写.*
*[注3]：MQ（消息队列）作用：异步、解耦、削峰填谷*

参考：[[[阿豪聊干货：分布式架构的前世今生...]](https://www.cnblogs.com/hafiz/p/9222973.html)
](http://www.cnblogs.com/hafiz/p/9222973.html)